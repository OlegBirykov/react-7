{"version":3,"sources":["TaskHeader.js","task1/components/DateTime.js","task1/utils/utils.js","task1/components/withPretty.js","task1/components/Video.js","task1/components/VideoList.js","task1/VideoApp.js","task2/components/Video.js","task2/components/Article.js","task2/components/New.js","task2/components/Popular.js","task2/components/withSpecial.js","task2/components/List.js","task2/VideoAndArticleApp.js","App.js","index.js"],"names":["TaskHeader","props","title","className","DateTime","date","minuteStrings","hourStrings","dayStrings","getTimeString","value","strings","result","timeToAgo","datetime","moment","now","isValid","minutes","diff","hours","days","withPretty","Component","state","ago","this","setState","timerId","setInterval","timer","clearInterval","React","Video","url","DateTimePretty","src","frameBorder","allow","allowFullScreen","VideoList","list","map","nanoid","VideoApp","useState","views","Article","href","New","children","Popular","withSpecial","List","VideoSpecial","ArticleSpecial","content","item","type","key","VideoAndArticleApp","App","Fragment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1dee91c.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\n\nfunction TaskHeader(props) {\n  const { title } = props; \n\n  return (\n    <div className=\"task-header\">\n      <h1 className=\"task-title\">{title}</h1> \n    </div>\n  );\n}\n\nTaskHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n\nexport default TaskHeader;\n","import PropTypes from 'prop-types';\n\nfunction DateTime(props) {\n  const { date } = props;\n  \n  return (\n    <p className=\"date\">{date}</p>\n  )\n}\n\nDateTime.propTypes = {\n  date: PropTypes.string.isRequired\n};\n\nexport default DateTime;","import moment from 'moment';\n\nconst minuteStrings = ['минуту', 'минуты', 'минут'];  \nconst hourStrings = ['час', 'часа', 'часов'];   \nconst dayStrings = ['день', 'дня', 'дней'];   \n\nfunction getTimeString(value, strings) {\n  let result = value + ' ';\n  \n  switch(value % 100) {\n    case 11:\n    case 12:\n    case 13:\n    case 14:\n      return result + strings[2];\n    default:\n  }\n  \n  switch(value % 10) {\n    case 1:\n      return result + strings[0];    \n    case 2:\n    case 3:\n    case 4:\n      return result + strings[1]; \n    default:\n      return result + strings[2]; \n  }\n}\n\nexport function timeToAgo(date) {\n\n  const datetime = moment(date);\n  const now = moment();\n\n  if (!datetime.isValid()) {\n    return '';\n  }\n\n  const minutes = now.diff(datetime, 'minutes');\n  if (minutes < 1) {\n    return '';\n  }\n  if (minutes < 60) {\n    return `${getTimeString(minutes, minuteStrings)} назад`;\n  }\n \n  const hours = now.diff(datetime, 'hours');\n  if (hours < 24) {\n    return `${getTimeString(hours, hourStrings)} назад`;\n  }\n\n  const days = now.diff(datetime, 'days');\n  return `${getTimeString(days, dayStrings)} назад`;\n}\n","import React from 'react';\nimport { timeToAgo } from '../utils/utils';\n\nfunction withPretty(Component) {\n  \n\n  return class extends React.Component {\n    state = {\n      ago: ''\n    }\n\n    componentDidMount() {\n      this.setState({ ago: timeToAgo(this.props.date) });\n      this.timerId = setInterval(() => this.timer(), 1000);\n    }\n\n    componentWillUnmount() {\n      clearInterval(this.timerId);\n    }\n  \n    timer() {\n      this.setState({ ago: timeToAgo(this.props.date) });\n    }\n\n    render() {\n      const props = { ...this.props };\n      props.date = this.state.ago;\n      return <Component {...props} />;\n    }\n  }\n}\n\nexport default withPretty;","import PropTypes from 'prop-types';\nimport DateTime from './DateTime';\nimport withPretty from './withPretty';\n\nfunction Video(props) {\n  const { url, date } = props;\n  const DateTimePretty = withPretty(DateTime);\n  \n  return (\n    <div className=\"video\">\n      <iframe src={url} title={url} frameBorder=\"0\" allow=\"autoplay; encrypted-media\" allowFullScreen></iframe>\n      <DateTimePretty date={date} />\n    </div>\n  )\n}\n\nVideo.propTypes = {\n  url: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired\n};\n\nexport default Video;","import PropTypes from 'prop-types';\nimport {nanoid} from 'nanoid';\nimport Video from './Video';\n\nfunction VideoList(props) {\n  const { list } = props;\n  \n  return (\n    <div className=\"video-list\"> \n      {list.map(({ url, date }) => <Video url={url} date={date} key={nanoid()} />)}\n    </div>    \n  )\n}\n\nVideoList.propTypes = {\n  list: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default VideoList;","import {useState} from 'react';\nimport VideoList from './components/VideoList';\n\nfunction VideoApp() {\n  const [list] = useState([\n    {\n      url: 'https://www.youtube.com/embed/rN6nlNC9WQA?rel=0&amp;controls=0&amp;showinfo=0',\n      date: '2017-07-31 13:24:00'\n    },\n    {\n      url: 'https://www.youtube.com/embed/dVkK36KOcqs?rel=0&amp;controls=0&amp;showinfo=0',\n      date: '2018-03-03 12:10:00'\n    },\n    {\n      url: 'https://www.youtube.com/embed/xGRjCa49C6U?rel=0&amp;controls=0&amp;showinfo=0',\n      date: '2018-02-03 23:16:00'\n    },\n    {\n      url: 'https://www.youtube.com/embed/RK1K2bCg4J8?rel=0&amp;controls=0&amp;showinfo=0',\n      date: '2018-01-03 12:10:00'\n    },\n    {\n      url: 'https://www.youtube.com/embed/TKmGU77INaM?rel=0&amp;controls=0&amp;showinfo=0',\n      date: '2018-01-01 16:17:00'\n    },\n    {\n      url: 'https://www.youtube.com/embed/TxbE79-1OSI?rel=0&amp;controls=0&amp;showinfo=0',\n      date: '2021-01-14 19:45:00'\n    },\n  ]);\n\n  return (\n    <VideoList list={list} />\n  );\n}\n\nexport default VideoApp;","import PropTypes from 'prop-types';\n\nfunction Video(props) {\n  const { url, views } = props;\n  \n  return (\n    <div className=\"item item-video\">\n      <iframe src={url} title={url} frameBorder=\"0\" allow=\"autoplay; encrypted-media\" allowFullScreen></iframe>\n      <p className=\"views\">Просмотров: {views}</p>\n    </div>\n  )\n};\n\nVideo.propTypes = {\n  url: PropTypes.string.isRequired,\n  views: PropTypes.number.isRequired\n};\n\nexport default Video;\n","import PropTypes from 'prop-types';\n\nfunction Article(props) {\n  const { title, views } = props;\n  \n  return (\n    <div className=\"item item-article\">\n      <h3><a href=\".\">{title}</a></h3>\n      <p className=\"views\">Прочтений: {views}</p>\n    </div>\n  )\n};\n\nArticle.propTypes = {\n  title: PropTypes.string.isRequired,\n  views: PropTypes.number.isRequired\n};\n\nexport default Article;","function New(props) {\n  const { children } = props;\n  \n  return (\n    <div className=\"wrap-item wrap-item-new\">\n      <span className=\"label\">New!</span>\n      {children}\n    </div>\n  )\n};\n\nexport default New;","function Popular(props) {\n  const { children } = props;\n  \n  return (\n    <div className=\"wrap-item wrap-item-popular\">\n      <span className=\"label\">Popular!</span>\n      {children}\n    </div>\n  )\n};\n\nexport default Popular;","import React from 'react';\nimport New from './New';\nimport Popular from './Popular';\n\nfunction withSpecial(Component) {\n  return class extends React.Component {\n    render() {\n      const { views } = this.props;\n\n      if (views <= 100) {\n        return (\n          <New>\n            <Component {...this.props} />\n          </New>\n        )\n      }\n\n      if (views >= 1000) {\n        return (\n          <Popular>\n            <Component {...this.props} />\n          </Popular>\n        )\n      }\n\n      return <Component {...this.props} />;\n    }\n  }\n}\n\nexport default withSpecial;","import PropTypes from 'prop-types';\nimport {nanoid} from 'nanoid';\nimport Video from './Video';\nimport Article from './Article';\nimport withSpecial from './withSpecial';\n\nfunction List(props) {\n  const { list } = props;  \n\n  const VideoSpecial = withSpecial(Video);\n  const ArticleSpecial = withSpecial(Article);\n \n  const content = list.map(item => {\n    switch (item.type) {\n      case 'video':\n        return <VideoSpecial {...item} key={nanoid()} />;\n\n      case 'article':\n        return <ArticleSpecial {...item} key={nanoid()} />;\n\n      default:\n        return null;\n    }\n  });\n\n  return (\n    <div className=\"item-list\"> \n      {content}\n    </div>   \n  );\n};\n\nList.propTypes = {\n  list: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default List;","import {useState} from 'react';\nimport List from './components/List';\n\nfunction VideoAndArticleApp() {\n  const [list] = useState([\n    {\n      type: 'video',\n      url: 'https://www.youtube.com/embed/rN6nlNC9WQA?rel=0&amp;controls=0&amp;showinfo=0',\n      views: 50\n    },\n    {\n      type: 'video',\n      url: 'https://www.youtube.com/embed/dVkK36KOcqs?rel=0&amp;controls=0&amp;showinfo=0',\n      views: 12\n    },\n    {\n      type: 'article',\n      title: 'Невероятные события в неизвестном поселке...',\n      views: 175\n    },\n    {\n      type: 'article',\n      title: 'Секретные данные были раскрыты!',\n      views: 1532\n    },\n    {\n      type: 'video',\n      url: 'https://www.youtube.com/embed/TKmGU77INaM?rel=0&amp;controls=0&amp;showinfo=0',\n      views: 4253\n    },\n    {\n      type: 'article',\n      title: 'Кот Бегемот обладает невероятной...',\n      views: 12,\n    },\n  ]);\n\n  return (\n    <List list={list} />\n  );\n}\n\nexport default VideoAndArticleApp;","import React from 'react';\nimport './App.css';\nimport TaskHeader from './TaskHeader';\nimport VideoApp from './task1/VideoApp';\nimport VideoAndArticleApp from './task2/VideoAndArticleApp';\n\nfunction App() {\n  return (<React.Fragment>\n    <div className=\"task-1\">\n      <TaskHeader title=\"Задача 1\" />\n      <VideoApp />\n    </div>\n    <div className=\"task-2\">\n      <TaskHeader title=\"Задача 2\" />\n      <VideoAndArticleApp />\n    </div>\n  </React.Fragment>);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}